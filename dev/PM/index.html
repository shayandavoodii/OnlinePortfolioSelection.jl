<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Pattern-Matching · OnlinePortfolioSelection.jl</title><meta name="title" content="Pattern-Matching · OnlinePortfolioSelection.jl"/><meta property="og:title" content="Pattern-Matching · OnlinePortfolioSelection.jl"/><meta property="twitter:title" content="Pattern-Matching · OnlinePortfolioSelection.jl"/><meta name="description" content="Documentation for OnlinePortfolioSelection.jl."/><meta property="og:description" content="Documentation for OnlinePortfolioSelection.jl."/><meta property="twitter:description" content="Documentation for OnlinePortfolioSelection.jl."/><meta property="og:url" content="https://shayandavoodii.github.io/OnlinePortfolioSelection.jl/PM/"/><meta property="twitter:url" content="https://shayandavoodii.github.io/OnlinePortfolioSelection.jl/PM/"/><link rel="canonical" href="https://shayandavoodii.github.io/OnlinePortfolioSelection.jl/PM/"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/citations.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img src="../assets/logo.png" alt="OnlinePortfolioSelection.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">OnlinePortfolioSelection.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../fetchdata/">Fetch Financial Data</a></li><li><a class="tocitem" href="../python/">Use In Python</a></li><li><span class="tocitem">OPS Strategies</span><ul><li><a class="tocitem" href="../benchmark/">Benchmark</a></li><li><a class="tocitem" href="../FL/">Follow the Loser</a></li><li><a class="tocitem" href="../FW/">Follow the Winner</a></li><li class="is-active"><a class="tocitem" href>Pattern-Matching</a><ul class="internal"><li><a class="tocitem" href="#Correlation-driven-Nonparametric-Learning"><span>Correlation-driven Nonparametric Learning</span></a></li><li><a class="tocitem" href="#Dynamic-RIsk-CORrelation-driven-Non-parametric"><span>Dynamic RIsk CORrelation-driven Non-parametric</span></a></li><li><a class="tocitem" href="#Bᴷ"><span>Bᴷ</span></a></li><li><a class="tocitem" href="#ClusLog"><span>ClusLog</span></a></li><li><a class="tocitem" href="#References"><span>References</span></a></li></ul></li><li><a class="tocitem" href="../ML/">Meta-Learning</a></li><li><a class="tocitem" href="../Combined/">Combined Strategies</a></li></ul></li><li><a class="tocitem" href="../performance_eval/">Performance Evaluation</a></li><li><a class="tocitem" href="../funcs/">Functions</a></li><li><a class="tocitem" href="../types/">Types</a></li><li><a class="tocitem" href="../refs/">References</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">OPS Strategies</a></li><li class="is-active"><a href>Pattern-Matching</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Pattern-Matching</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/shayandavoodii/OnlinePortfolioSelection.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/shayandavoodii/OnlinePortfolioSelection.jl/blob/main/docs/src/PM.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Pattern-Matching-(PM)"><a class="docs-heading-anchor" href="#Pattern-Matching-(PM)">Pattern-Matching (PM)</a><a id="Pattern-Matching-(PM)-1"></a><a class="docs-heading-anchor-permalink" href="#Pattern-Matching-(PM)" title="Permalink"></a></h1><p>Pattern-matching algorithms stand among the most popular strategies in the domain of online portfolio selection. These algorithms primarily aim to discern patterns within historical price data and employ them for predicting future prices. They align with the perspective of technical analysts who anticipate the repetition of historical patterns in future market behavior. The current package incorporates the following pattern-matching algorithms:</p><ul><li>Correlation-driven Nonparametric Learning (CORN)<ul><li><a href="#Run-CORN-U">CORN-U</a></li><li><a href="#Run-CORN-K">CORN-K</a></li></ul></li><li>Dynamic RIsk CORrelation-driven Non-parametric (DRICORN-K)</li><li>Bᴷ</li><li>ClusLog<ul><li>KMNLOG</li><li>KMDLOG</li></ul></li></ul><h2 id="Correlation-driven-Nonparametric-Learning"><a class="docs-heading-anchor" href="#Correlation-driven-Nonparametric-Learning">Correlation-driven Nonparametric Learning</a><a id="Correlation-driven-Nonparametric-Learning-1"></a><a class="docs-heading-anchor-permalink" href="#Correlation-driven-Nonparametric-Learning" title="Permalink"></a></h2><p>Correlation-driven Nonparametric Learning (CORN) is a pattern-matching algorithm introduced by <a href="../refs/#10.1145/1961189.1961193">Li <em>et al.</em> [12]</a>. CORN employs correlation as the measure of similarity between different time windows. Within CORN, multiple experts are defined to generate portfolios. Each trading day involves a combination of expert portfolios to create the final portfolio. The distinction between CORN-K and CORN-U lies in their portfolio construction methods. CORN-K selects the K best experts, determined by their historical performance, to create the final portfolio. Conversely, CORN-U amalgamates all experts uniformly to construct the final portfolio. For further details, refer to <a href="../funcs/#OnlinePortfolioSelection.cornu-Union{Tuple{M}, Tuple{T}, Tuple{Matrix{T}, M, M}} where {T&lt;:Float64, M&lt;:Int64}"><code>cornu</code></a> and <a href="../funcs/#OnlinePortfolioSelection.cornk-Union{Tuple{T}, Tuple{Matrix{Float64}, Vararg{T, 4}}} where T&lt;:Int64"><code>cornk</code></a>.</p><h3 id="Run-CORN-U"><a class="docs-heading-anchor" href="#Run-CORN-U">Run CORN-U</a><a id="Run-CORN-U-1"></a><a class="docs-heading-anchor-permalink" href="#Run-CORN-U" title="Permalink"></a></h3><p>The key parameters for CORN-U include <code>w</code> (maximum window size to be examined) and <code>rho</code> (correlation threshold). Larger values of <code>w</code> involve examining more window sizes, leading to enhanced accuracy but increased algorithm runtime. However, the same relationship does not hold for <code>rho</code>. Extreme values for <code>rho</code> (e.g., 0.99 or 0.01) are advised against by the authors. As CORN is intended to identify time windows with positive directional correlation, negative values for <code>rho</code> are not permissible. From the authors&#39; experiments, an optimal <code>rho</code> value was found to be 0.2, and this has been set as the default value.</p><p>CORN algorithms, including CORN-U, exhibit improved performance when trained on longer time periods (e.g., ~1 year) for portfolio selection.</p><pre><code class="language-julia hljs">juila&gt; using OnlinePortfolioSelection

julia&gt; size(prices)
(268, 5)

# OnlinePortfolioSelection suppose that the data is in the form of a matrix
# where each row is the price vector of the assets at a specific time period.
julia&gt; prices = prices |&gt; permutedims;

# run the algorithm on the last 5 days
julia&gt; horizon, w = 5, 10

julia&gt; model = cornu(prices, horizon, w)

julia&gt; model.b
5×5 Matrix{Float64}:
 0.0       0.198536  0.0995612  0.0        0.0
 0.0       0.389272  0.0        0.0        0.0980504
 0.0       0.0       0.430479   0.0998267  0.0
 0.714743  0.0       0.0        0.0        0.203183
 0.285257  0.412192  0.46996    0.900173   0.698766</code></pre><p>One can compute the cumulative wealth during the investment period by using the <a href="../funcs/#OnlinePortfolioSelection.sn-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}}} where T&lt;:AbstractFloat"><code>sn</code></a> function:</p><pre><code class="language-julia hljs">julia&gt; rel_price = prices[:, 2:end] ./ prices[:, 1:end-1];

julia&gt; sn(model.b, rel_price)
6-element Vector{Float64}:
 1.0
 0.9910701218600744
 0.9956345799968089
 1.0038929232387375
 0.9914403615208097
 0.9851289224781754</code></pre><p>The result indicates that the algorithm experienced a loss of 1.5% of the initial wealth during the investment period. Further analysis of the algorithm&#39;s performance can be conducted using the <a href="../funcs/#OnlinePortfolioSelection.ann_std-Tuple{AbstractVector{&lt;:AbstractFloat}}"><code>ann_std</code></a>, <a href="../funcs/#OnlinePortfolioSelection.apy-Union{Tuple{S}, Tuple{AbstractFloat, S}} where S&lt;:Int64"><code>apy</code></a>, <a href="../funcs/#OnlinePortfolioSelection.ann_sharpe-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat"><code>ann_sharpe</code></a>, <a href="../funcs/#OnlinePortfolioSelection.mdd-Union{Tuple{AbstractVector{T}}, Tuple{T}} where T&lt;:AbstractFloat"><code>mdd</code></a>, and <a href="../funcs/#OnlinePortfolioSelection.calmar-Union{Tuple{T}, Tuple{T, T}} where T&lt;:AbstractFloat"><code>calmar</code></a> functions. For more detailed information, refer to the <a href="../performance_eval/#Performance-evaluation">Performance evaluation</a> section.</p><h3 id="Run-CORN-K"><a class="docs-heading-anchor" href="#Run-CORN-K">Run CORN-K</a><a id="Run-CORN-K-1"></a><a class="docs-heading-anchor-permalink" href="#Run-CORN-K" title="Permalink"></a></h3><p>The key parameters of CORN-K include <code>k</code> (number of best experts used for portfolio construction), <code>w</code> (maximum window size to be examined), and <code>rho</code> (number of correlation coefficient thresholds to be examined). CORN-K utilizes the best experts to formulate the final portfolio, aiming to outperform CORN-U. To observe its performance, let&#39;s execute CORN-K on the same dataset as used for CORN-U:</p><pre><code class="language-julia hljs"># run the algorithm on the last 5 days
julia&gt; horizon, k, w, rho = 5, 10, 5, 5, 5;

julia&gt; model = cornk(prices, horizon, k, w, rho);

julia&gt; model.b</code></pre><p>Last but not least, the cumulative return of the algorithm on the investment period and given dataset can be computed by using the <a href="../funcs/#OnlinePortfolioSelection.sn-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}}} where T&lt;:AbstractFloat"><code>sn</code></a> function:</p><pre><code class="language-julia hljs">julia&gt; rel_price = prices[:, 2:end] ./ prices[:, 1:end-1];

julia&gt; sn(model.b, rel_price)
6-element Vector{Float64}:
 1.0
 0.9920219584145965
 0.997769753240107
 1.0153550964116513
 1.004610801506029
 1.0017637293758395</code></pre><p>Expectedly, CORN-K performed better than CORN-U on the same dataset. The result indicates that the algorithm has gained ~0.18% of the initial wealth during the investment period. Further analysis of the algorithm can be done by using the <a href="../funcs/#OnlinePortfolioSelection.ann_std-Tuple{AbstractVector{&lt;:AbstractFloat}}"><code>ann_std</code></a>, <a href="../funcs/#OnlinePortfolioSelection.apy-Union{Tuple{S}, Tuple{AbstractFloat, S}} where S&lt;:Int64"><code>apy</code></a>, <a href="../funcs/#OnlinePortfolioSelection.ann_sharpe-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat"><code>ann_sharpe</code></a>, <a href="../funcs/#OnlinePortfolioSelection.mdd-Union{Tuple{AbstractVector{T}}, Tuple{T}} where T&lt;:AbstractFloat"><code>mdd</code></a>, and <a href="../funcs/#OnlinePortfolioSelection.calmar-Union{Tuple{T}, Tuple{T, T}} where T&lt;:AbstractFloat"><code>calmar</code></a> functions. See <a href="../performance_eval/#Performance-evaluation">Performance evaluation</a> section for more information.</p><h2 id="Dynamic-RIsk-CORrelation-driven-Non-parametric"><a class="docs-heading-anchor" href="#Dynamic-RIsk-CORrelation-driven-Non-parametric">Dynamic RIsk CORrelation-driven Non-parametric</a><a id="Dynamic-RIsk-CORrelation-driven-Non-parametric-1"></a><a class="docs-heading-anchor-permalink" href="#Dynamic-RIsk-CORrelation-driven-Non-parametric" title="Permalink"></a></h2><p>Dynamic Risk CORrelation-driven Non-parametric (DRICORN)[<a href="../refs/#10.1007/978-3-030-66151-9_12">13</a>] employs a similar principle to CORN-K. However, DRICORN incorporates the beta of the portfolio as a risk measure in the portfolio optimization. Additionally, it considers the recent market trend to capitalize on positive risks while minimizing exposure to negative risks. For further details, refer to <a href="../funcs/#OnlinePortfolioSelection.dricornk-Union{Tuple{M}, Tuple{T}, Tuple{Matrix{T}, Vector{T}, Vararg{M, 4}}} where {T&lt;:Float64, M&lt;:Int64}"><code>dricornk</code></a>.</p><h3 id="Run-DRICORN-K"><a class="docs-heading-anchor" href="#Run-DRICORN-K">Run DRICORN-K</a><a id="Run-DRICORN-K-1"></a><a class="docs-heading-anchor-permalink" href="#Run-DRICORN-K" title="Permalink"></a></h3><p>Given that this algorithm is constructed on the CORN-K model, it shares analogous parameters. However, DRICORN-K requires market index data (e.g., S&amp;P 500) to calculate the portfolio&#39;s beta and the market trend. Additionally, a coefficient is used to regulate the portfolio&#39;s beta, with the default value set to <code>1e-3</code>. Let&#39;s execute DRICORN-K using the same data as CORN-U and CORN-K.</p><pre><code class="language-julia hljs"># run the algorithm on the last 5 days
julia&gt; horizon, k, w, rho = 5, 10, 5, 5, 5;

julia&gt; model = dricornk(prices, market_prices, horizon, k, w, rho);

julia&gt; model.b
4×5 Matrix{Float64}:
 0.0  0.25  0.25  0.25  0.17438
 0.0  0.25  0.25  0.25  0.17438
 0.0  0.25  0.25  0.25  0.174281
 1.0  0.25  0.25  0.25  0.476959</code></pre><p>Using <a href="../funcs/#OnlinePortfolioSelection.sn-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}}} where T&lt;:AbstractFloat"><code>sn</code></a> function, one can compute the cumulative wealth during the investment period:</p><pre><code class="language-julia hljs">julia&gt; rel_price = prices[:, 2:end] ./ prices[:, 1:end-1];

julia&gt; sn(model.b, rel_price)
6-element Vector{Float64}:
 1.0
 0.9906902403938972
 0.9867624995658737
 0.9841621752990845
 0.9754797369845584
 0.9738144349688777</code></pre><p>The result indicates that the algorithm has lost ~2.6% of the initial wealth during the investment period. Further analysis of the algorithm can be done by using the <a href="../funcs/#OnlinePortfolioSelection.ann_std-Tuple{AbstractVector{&lt;:AbstractFloat}}"><code>ann_std</code></a>, <a href="../funcs/#OnlinePortfolioSelection.apy-Union{Tuple{S}, Tuple{AbstractFloat, S}} where S&lt;:Int64"><code>apy</code></a>, <a href="../funcs/#OnlinePortfolioSelection.ann_sharpe-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat"><code>ann_sharpe</code></a>, <a href="../funcs/#OnlinePortfolioSelection.mdd-Union{Tuple{AbstractVector{T}}, Tuple{T}} where T&lt;:AbstractFloat"><code>mdd</code></a>, and <a href="../funcs/#OnlinePortfolioSelection.calmar-Union{Tuple{T}, Tuple{T, T}} where T&lt;:AbstractFloat"><code>calmar</code></a> functions. See <a href="../performance_eval/#Performance-evaluation">Performance evaluation</a> section for more information.</p><h2 id="Bᴷ"><a class="docs-heading-anchor" href="#Bᴷ">Bᴷ</a><a id="Bᴷ-1"></a><a class="docs-heading-anchor-permalink" href="#Bᴷ" title="Permalink"></a></h2><p>Bᴷ, presented as a type of kernel-based investment strategy, is a pattern-matching algorithm introduced by <a href="../refs/#https://doi.org/10.1111/j.1467-9965.2006.00274.x">Györfi <em>et al.</em> [14]</a>. In essence, Bᴷ shares similarities with histogram-based strategies, albeit utilizing more flexible elementary strategies that replace rigid past market vector discretization with a &quot;moving-window&quot; rule. This implementation incorporates the uniform kernel function. Check <a href="../funcs/#OnlinePortfolioSelection.bk-Union{Tuple{S}, Tuple{T}, Tuple{Matrix{T}, S, S, Any}} where {T&lt;:Float64, S&lt;:Int64}"><code>bk</code></a> for more information.</p><h3 id="Run-Bᴷ"><a class="docs-heading-anchor" href="#Run-Bᴷ">Run Bᴷ</a><a id="Run-Bᴷ-1"></a><a class="docs-heading-anchor-permalink" href="#Run-Bᴷ" title="Permalink"></a></h3><p>The most important parameter of Bᴷ is <code>k</code> (number of best experts to be used for portfolio construction). Let&#39;s run Bᴷ on the same data as CORN-U, CORN-K, etc.:</p><pre><code class="language-julia hljs">julia&gt; using OnlinePortfolioSelection

julia&gt; horizon, k, n_splits, similarity_thresh = 5, 5, 10, 0.2;

julia&gt; rel_price = prices[:, 2:end] ./ prices[:, 1:end-1];

# run the algorithm on the last 5 days
julia&gt; model = bk(rel_price[:, end-horizon+1:end], k, n_splits, similarity_thresh);

julia&gt; model.b
5×5 Matrix{Float64}:
 0.2  0.2  0.196078  0.156876  0.153047
 0.2  0.2  0.196078  0.156876  0.250758
 0.2  0.2  0.215685  0.156876  0.172675
 0.2  0.2  0.196078  0.156876  0.153047
 0.2  0.2  0.196079  0.372496  0.270474</code></pre><p>Using <a href="../funcs/#OnlinePortfolioSelection.sn-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}}} where T&lt;:AbstractFloat"><code>sn</code></a> function, one can compute the cumulative wealth during the investment period:</p><pre><code class="language-julia hljs">julia&gt; rel_price = prices[:, 2:end] ./ prices[:, 1:end-1];

julia&gt; sn(model.b, rel_price)
6-element Vector{Float64}:
 1.0
 0.987982263196868
 0.9854808683947185
 0.9870411234122491
 0.9763511652573162
 0.9698166561732083</code></pre><p>The result indicates that the algorithm has lost ~3% of the initial wealth during the investment period. Further analysis of the algorithm can be done by using the <a href="../funcs/#OnlinePortfolioSelection.ann_std-Tuple{AbstractVector{&lt;:AbstractFloat}}"><code>ann_std</code></a>, <a href="../funcs/#OnlinePortfolioSelection.apy-Union{Tuple{S}, Tuple{AbstractFloat, S}} where S&lt;:Int64"><code>apy</code></a>, <a href="../funcs/#OnlinePortfolioSelection.ann_sharpe-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat"><code>ann_sharpe</code></a>, <a href="../funcs/#OnlinePortfolioSelection.mdd-Union{Tuple{AbstractVector{T}}, Tuple{T}} where T&lt;:AbstractFloat"><code>mdd</code></a>, and <a href="../funcs/#OnlinePortfolioSelection.calmar-Union{Tuple{T}, Tuple{T, T}} where T&lt;:AbstractFloat"><code>calmar</code></a> functions. See <a href="../performance_eval/#Performance-evaluation">Performance evaluation</a> section for more information.</p><h2 id="ClusLog"><a class="docs-heading-anchor" href="#ClusLog">ClusLog</a><a id="ClusLog-1"></a><a class="docs-heading-anchor-permalink" href="#ClusLog" title="Permalink"></a></h2><p>ClusLog contains some variant of models proposed by <a href="../refs/#KHEDMATI2020113546">Khedmati and Azin [15]</a>, namely, KMNLOG and KMDLOG. The main idea behind these algorithms is to cluster the historical time windows based on their inter-correlation. Then, the algorithm uses a day after the found time windows as the potential day to occur with the same pattern for tomorrow. In order to perform the portfolio selection, the algorithm uses the semi-log optimal approach in order to maximize the expected return of the portfolio. See <a href="../funcs/#OnlinePortfolioSelection.cluslog"><code>cluslog</code></a>.</p><h3 id="Run-ClusLog"><a class="docs-heading-anchor" href="#Run-ClusLog">Run ClusLog</a><a id="Run-ClusLog-1"></a><a class="docs-heading-anchor-permalink" href="#Run-ClusLog" title="Permalink"></a></h3><p>In order to use this function, you have to install the <a href="https://github.com/JuliaStats/Clustering.jl"><code>Clustering.jl</code></a> package and import it on your own. The reason behind this design is that I do not intend to add extra dependencies to this package for the sake of just an algorithm. The <code>Clustering.jl</code> package can be installed by running the following command in the Julia REPL:</p><pre><code class="language-julia hljs">julia&gt; using Pkg

julia&gt; pkg&quot;add Clustering@0.15.2&quot;

# Or

julia&gt; pkg.add(name=&quot;Clustering&quot;, version=&quot;0.15.2&quot;)</code></pre><p>After intalling the package, you can use the <a href="../funcs/#OnlinePortfolioSelection.cluslog"><code>cluslog</code></a> function after importing the <code>Clustering.jl</code> package. Let&#39;s run ClusLog on the same data as CORN-U, CORN-K, etc.:</p><pre><code class="language-julia hljs">julia&gt; using OnlinePortfolioSelection, Clustering

julia&gt; horizon, max_window_size, clustering_model, max_n_clusters, max_n_clustering, optm_boundries = 2, 3, KMNLOG, 3, 7, (0.0, 1.0);

julia&gt; prices = prices |&gt; permutedims;

julia&gt; rel_price = prices[:, 2:end] ./ prices[:, 1:end-1];

# run the algorithm on the last 2 days
julia&gt; model = cluslog(rel_price, horizon, max_window_size, clustering_model, max_n_clusters, max_n_clustering, optm_boundries);
[ Info: Analysis for trading day 1 is done.
[ Info: Analysis for trading day 2 is done.

julia&gt; model.b
5×2 Matrix{Float64}:
 0.963883    0.00479629
 0.00337321  0.973796
 0.00657932  0.00360691
 0.00183594  0.00164263
 0.0243289   0.0161582</code></pre><p>Using <a href="../funcs/#OnlinePortfolioSelection.sn-Union{Tuple{T}, Tuple{AbstractMatrix{T}, AbstractMatrix{T}}} where T&lt;:AbstractFloat"><code>sn</code></a> function, one can compute the cumulative wealth during the investment period:</p><pre><code class="language-julia hljs">julia&gt; sn(model.b, rel_price)
3-element Vector{Float64}:
 1.0
 0.9932798769652941
 0.9817775041346212</code></pre><p>The result indicates that the algorithm has lost ~1.8% of the initial wealth during the investment period. Further analysis of the algorithm can be done by using the <a href="../funcs/#OnlinePortfolioSelection.ann_std-Tuple{AbstractVector{&lt;:AbstractFloat}}"><code>ann_std</code></a>, <a href="../funcs/#OnlinePortfolioSelection.apy-Union{Tuple{S}, Tuple{AbstractFloat, S}} where S&lt;:Int64"><code>apy</code></a>, <a href="../funcs/#OnlinePortfolioSelection.ann_sharpe-Union{Tuple{T}, Tuple{T, T, T}} where T&lt;:AbstractFloat"><code>ann_sharpe</code></a>, <a href="../funcs/#OnlinePortfolioSelection.mdd-Union{Tuple{AbstractVector{T}}, Tuple{T}} where T&lt;:AbstractFloat"><code>mdd</code></a>, and <a href="../funcs/#OnlinePortfolioSelection.calmar-Union{Tuple{T}, Tuple{T, T}} where T&lt;:AbstractFloat"><code>calmar</code></a> functions. See <a href="../performance_eval/#Performance-evaluation">Performance evaluation</a> section for more information.</p><h2 id="References"><a class="docs-heading-anchor" href="#References">References</a><a id="References-1"></a><a class="docs-heading-anchor-permalink" href="#References" title="Permalink"></a></h2><div class="citation noncanonical"><dl><dt>[12]</dt><dd><div>B. Li, S. C. Hoi and V. Gopalkrishnan. <em>CORN: Correlation-Driven Nonparametric Learning Approach for Portfolio Selection</em>. <a href="https://doi.org/https://doi.org/10.1145/1961189.1961193">ACM Trans. Intell. Syst. Technol. <strong>2</strong></a> (2011).</div></dd><dt>[13]</dt><dd><div>S. Sooklal, T. L. van Zyl and A. Paskaramoorthy. <a href="https://doi.org/https://doi.org/10.1007/978-3-030-66151-9_12"><em>DRICORN-K: A Dynamic RIsk CORrelation-driven Non-parametric Algorithm for Online Portfolio Selection</em></a>. In: <em>Artificial Intelligence Research</em>, edited by A. Gerber (Springer International Publishing, Cham, 2020); pp. 183–196.</div></dd><dt>[14]</dt><dd><div>L. Györfi, G. Lugosi and F. Udina. <em>NONPARAMETRIC KERNEL-BASED SEQUENTIAL INVESTMENT STRATEGIES</em>. <a href="https://doi.org/https://doi.org/10.1111/j.1467-9965.2006.00274.x">Mathematical Finance <strong>16</strong>, 337–357</a> (2006).</div></dd><dt>[15]</dt><dd><div>M. Khedmati and P. Azin. <em>An online portfolio selection algorithm using clustering approaches and considering transaction costs</em>. <a href="https://doi.org/https://doi.org/10.1016/j.eswa.2020.113546">Expert Systems with Applications <strong>159</strong>, 113546</a> (2020).</div></dd></dl></div></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../FW/">« Follow the Winner</a><a class="docs-footer-nextpage" href="../ML/">Meta-Learning »</a><div class="flexbox-break"></div><p class="footer-message"><a href="https://github.com/shayandavoodii/OnlinePortfolioSelection.jl">OnlinePortfolioSelection.jl</a> v2.3.1 docs powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="auto">Automatic (OS)</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.1.2 on <span class="colophon-date" title="Saturday 11 November 2023 15:00">Saturday 11 November 2023</span>. Using Julia version 1.9.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
